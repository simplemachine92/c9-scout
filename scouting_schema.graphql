# GRID Esports Scouting Schema
# Focused subset of the full GRID GraphQL API relevant for scouting programs

type Query {
  """Get multiple series (matches) by specifications - CORE scouting query"""
  allSeries(
    """Amount of nodes to return starting from the beginning. Defaults to 10."""
    first: Int

    """Cursor, after which results to query."""
    after: Cursor

    """Filters for series results - KEY for filtering recent matches"""
    filter: SeriesFilter

    """Amount of nodes to return starting from the end."""
    last: Int

    """Cursor, before which results to query."""
    before: Cursor

    """Ordering of resulting series set - Use StartTimeScheduled DESC for recent matches"""
    orderBy: SeriesOrderBy! = ID

    """Whether to order by ascending or descending direction."""
    orderDirection: OrderDirection! = ASC
  ): SeriesConnection!

  """Get a player by ID - For detailed player analysis"""
  player(
    """The ID of the player to retrieve."""
    id: ID!
  ): Player

  """Get multiple players by specifications - Get all players on a team"""
  players(
    """Amount of nodes to return starting from the beginning. Defaults to 10."""
    first: Int

    """Cursor, after which results to query."""
    after: Cursor

    """Filters for player results - Filter by team, role, etc."""
    filter: PlayerFilter

    """Amount of nodes to return starting from the end."""
    last: Int

    """Cursor, before which results to query."""
    before: Cursor
  ): PlayerConnection!

  """Get a team by ID - Get team details for scouting"""
  team(
    """The ID of the team to retrieve."""
    id: ID!
  ): Team

  """Get multiple teams by specifications - Find opponent teams"""
  teams(
    """Amount of nodes to return starting from the beginning. Defaults to 10."""
    first: Int

    """Cursor, after which results to query."""
    after: Cursor

    """Amount of nodes to return starting from the end."""
    last: Int

    """Cursor, before which results to query."""
    before: Cursor

    """Filters for team results."""
    filter: TeamFilter
  ): TeamConnection!

  """Get multiple player roles by specifications - Understand comp compositions"""
  playerRoles(filter: PlayerRoleFilter): [PlayerRole!]!
}

"""A series (match) - CORE data structure for scouting"""
type Series {
  """The ID of the series."""
  id: ID!

  """The title being played - VAL, LoL, etc."""
  title: Title!

  """The teams participating - Who played whom"""
  teams: [TeamParticipant!]!

  """The scheduled start time - For recency filtering"""
  startTimeScheduled: DateTime!

  """The format of the series - BO1, BO3, etc."""
  format: SeriesFormat!

  """The type of the series - ESPORTS for competitive matches"""
  type: SeriesType!

  """The players participating - Full roster for each match"""
  players: [Player!]!

  """The date and time of the last update."""
  updatedAt: DateTime!
}

"""Team participating in the series - Shows team performance in match"""
type TeamParticipant {
  """The team base information."""
  baseInfo: Team!

  """The team score advantage - Who won/lost and by how much"""
  scoreAdvantage: Int!
}

"""Filter for series data points - MOST IMPORTANT for scouting"""
input SeriesFilter {
  """Filter by a time range - KEY: Use for recent matches (last 30 days)"""
  startTimeScheduled: DateTimeFilter

  """Filter by team IDs - CORE: Get all matches for a specific team"""
  teamIds: IdFilter

  """Filter by title IDs - Filter by game (VAL, LoL, etc.)"""
  titleIds: IdFilter

  """Filter by series types - Focus on ESPORTS matches"""
  types: [SeriesType!]

  """Filter by last update - Get recently updated match data"""
  updatedAt: DateTimeFilter
}

"""Field to order results by - Use StartTimeScheduled for recency"""
enum SeriesOrderBy {
  """Orders the series result by ID."""
  ID

  """Orders the series result by the scheduled start time - KEY for recent matches"""
  StartTimeScheduled

  """Orders the series result by the updated time."""
  UpdatedAt
}

"""Order in which the results will be provided."""
enum OrderDirection {
  """Orders the results ascending."""
  ASC

  """Orders the results descending - Use DESC for most recent first"""
  DESC
}

"""A player - Individual player data for tendency analysis"""
type Player {
  """The ID of the player."""
  id: ID!

  """The name of the player."""
  nickname: String!

  """The player's roles (e.g. MID, SUPPORT) - KEY for comp analysis"""
  roles: [PlayerRole!]!

  """The team the player is currently playing."""
  team: Team

  """The player's nationality - May indicate playstyle tendencies"""
  nationality: [Nationality!]!

  """The player's age - Experience factor"""
  age: Int
}

"""Filter for player data points - Get players by team/role"""
input PlayerFilter {
  """Filter by a specific team ID - Get all players on opponent team"""
  teamIdFilter: NullableIdFilter

  """Filter players by role - Analyze specific role tendencies"""
  roles: PlayerPlayerRoleFilter
}

"""A player's role (e.g. MID, SUPPORT) - Understanding comp positions"""
type PlayerRole {
  """The ID of the player role."""
  id: ID!

  """The name of the player role - MID, SUPPORT, etc."""
  name: String!

  """The title of the player role - Game-specific roles"""
  title: Title!
}

"""A team - Team-level data for scouting"""
type Team {
  """The ID of the team."""
  id: ID!

  """The name of the team."""
  name: String!

  """The primary color of the team."""
  colorPrimary: HexColor!

  """The secondary color of the team."""
  colorSecondary: HexColor!

  """The team logo URL."""
  logoUrl: Url!

  """The team rating - Performance indicator"""
  rating: Float
}

"""Filter for team data points - Find specific teams"""
input TeamFilter {
  """Filter by a specific title - Teams in specific games"""
  titleId: ID

  """Filter by the team's name - Search for opponent"""
  name: StringFilter
}

"""A title (game) - VAL, LoL, etc."""
type Title {
  """The ID of the title."""
  id: ID!

  """The name of the title - Valorant, League of Legends, etc."""
  name: String!
}

"""DateTime formatted as ISO 8601."""
scalar DateTime

"""Filter by a datetime range - KEY for recent match filtering"""
input DateTimeFilter {
  """
  DateTime for the beginning of the time range (optional), formatted as an ISO date string. Time window includes the given value.
  """
  gte: String

  """
  DateTime for the end of the time range (optional), formatted as an ISO date string. Time window includes the given value.
  """
  lte: String
}

"""ID filter for entity identifiers."""
input IdFilter {
  """Array of IDs to look for - Filter by multiple team/player IDs"""
  in: [ID!]
}

"""ID filter with nullable value."""
input NullableIdFilter {
  """ID to look for, can be nullable."""
  id: ID
}

"""String filter for character-based fields."""
input StringFilter {
  """Case-insensitive string filter to match field exactly."""
  equals: String
}

"""Filter by player role."""
input PlayerPlayerRoleFilter {
  """Filter by player role name - Get all MID laners, etc."""
  name: StringFilter
}

"""Filter by player role."""
input PlayerRoleFilter {
  """Filter by player role name."""
  name: StringFilter
}

"""The type of series being returned."""
enum SeriesType {
  """A competitive series - Focus on these for scouting"""
  ESPORTS
}

"""Cursor value for pagination."""
scalar Cursor

"""Hexadecimal value of an RGB color."""
scalar HexColor

"""URL pointing to resource."""
scalar Url

"""A player's nationality."""
type Nationality {
  """The ISO 3166-1 Alpha-3 code for the country."""
  code: String!

  """The full name of the country."""
  name: String!
}

# Connection types for pagination
type SeriesConnection {
  totalCount: Int!
  edges: [SeriesEdge!]!
  pageInfo: PageInfo!
}

type SeriesEdge {
  cursor: Cursor!
  node: Series!
}

type PlayerConnection {
  totalCount: Int!
  edges: [PlayerEdge!]!
  pageInfo: PageInfo!
}

type PlayerEdge {
  cursor: Cursor!
  node: Player!
}

type TeamConnection {
  totalCount: Int!
  edges: [TeamEdge!]!
  pageInfo: PageInfo!
}

type TeamEdge {
  cursor: Cursor!
  node: Team!
}

type PageInfo {
  hasPreviousPage: Boolean!
  hasNextPage: Boolean!
  startCursor: Cursor
  endCursor: Cursor
}
